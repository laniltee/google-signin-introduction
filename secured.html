<!DOCTYPE html>
<html>

<head>
    <title>This is a secured page</title>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="437214321879-tup0oh04gleige2rg8s3hr96mf10f8n6.apps.googleusercontent.com">
</head>

<body onload="checkSecurity()">
    <h1>This is a secured page !</h1>
    <a href="#" onclick="signOut();">Sign out</a>
    <h3>This is your details</h3>
    <p id="user-details"></p>
</body>

</html>
<script type="text/javascript">
function checkSecurity() {
    if (!localStorage.username_2) {
        window.location.href = "404.html";
    } else {
    	console.log('Client logged in OK');
    	console.log(localStorage.getItem("username_2"));
        document.getElementById("user-details").innerHTML = localStorage.getItem("username_2");
    }
}

function signOut() {
	console.log("signOut() CALLED !");
    localStorage.setItem("setLogoutStatus", true);
    window.location.href = "http://localhost:8080/index.html";
}
</script>